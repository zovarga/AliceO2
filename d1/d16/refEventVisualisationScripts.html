<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: EventVisualisation Scripts</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d16/refEventVisualisationScripts.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EventVisualisation Scripts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Event Visualisation Scripts</h1>
<h2>Configuration of the online event display in P2</h2>
<p>There are 2 processes to be run on the visualisation machine in P2. To simplify deployment there are <code>bash</code> functions declared in <code>.bashrc</code> functions of the <code>ed</code> user.</p>
<ul>
<li>Process which synchronises (every 2 seconds) local folder <code>/home/ed/jsons</code> with folder on EPN which is run in terminal by calling <code>query-alice</code>. That process should be run from one of the terminals. Because files in folder on EPN are produced in FIFO scheme (so creating new ones results in deletion the same number of the old ones) files in local folders also are created and deleted. <div class="fragment"><div class="line">query-alice</div>
</div><!-- fragment --></li>
<li>Process which starts <code>o2-eve</code> application in mode when contents of the <code>/home/ed/jsons</code> folder is observed which is run in terminal by calling <code>o2eve</code>. Before calling <code>o2eve</code> user must enter O2 environment - it can be done by calling <code>enter</code> function declared in <code>.bashrc</code> <div class="fragment"><div class="line">enter</div>
<div class="line">o2eve</div>
</div><!-- fragment --></li>
</ul>
<h2>navigation in o2-eve events using &lt;&lt; &lt; &gt; &gt;&gt; buttons</h2>
<p>Event display shows defined pool of data (by default there are 300+2) which are present in observed folder. The first and last data are duplicated (so 1 and 2 show the same and 301 and 302 show the same) because:</p><ul>
<li>position 1 means 'show the latest available data'. When observed latest data disappear (because new data has arrived and old one deleted) the new latest data is displayed</li>
<li>positions 2-301: as long as data exists in the folder o2-eve displays the same data (but their positions decreases as new data is arriving and old data is deleted). Finally, the position become 1.</li>
<li>position 302 means 'show the newest available data'. If we are on position 302 as soon as new data file is presented in the observed folder that data is immediately displayed by the o2-eve. The position remains the same, but the data displayed changes. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/de1/refEventVisualisation.html">Module &#39;EventVisualisation&#39;</a></li><li class="navelem"><a class="el" href="../../db/dfe/refEventVisualisationWorkflow.html">EventVisualisation Workflow</a></li>
    <li class="footer">Generated on Mon Feb 14 2022 05:41:08 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
