<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: o2::framework::DPLRawPageSequencer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/d65/classo2_1_1framework_1_1DPLRawPageSequencer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">o2::framework::DPLRawPageSequencer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This utility handles transparently the DPL inputs and triggers a customizable action on sequences of consecutive raw pages following similar RDH features, e.g. the same FEE ID.  
 <a href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1c3566bd569a9e321983e9a03121a876"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a1c3566bd569a9e321983e9a03121a876">rawparser_type</a> = <a class="el" href="../../d6/d55/classo2_1_1framework_1_1RawParser.html">RawParser</a>&lt; 8192 &gt;</td></tr>
<tr class="separator:a1c3566bd569a9e321983e9a03121a876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ce7ee496f723688845d525de1f9761"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a10ce7ee496f723688845d525de1f9761">buffer_type</a> = typename <a class="el" href="../../d6/d55/classo2_1_1framework_1_1RawParser.html#adbec0646c68e21b4dc1533791863f9f6">rawparser_type::buffer_type</a></td></tr>
<tr class="separator:a10ce7ee496f723688845d525de1f9761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5fd17f9035aa5cf4b97ac67cba6b4ebc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a5fd17f9035aa5cf4b97ac67cba6b4ebc">DPLRawPageSequencer</a> ()=delete</td></tr>
<tr class="separator:a5fd17f9035aa5cf4b97ac67cba6b4ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9f0ab28291e1247f1285d441e0680d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#aab9f0ab28291e1247f1285d441e0680d">DPLRawPageSequencer</a> (<a class="el" href="../../df/d24/classo2_1_1framework_1_1InputRecord.html">InputRecord</a> &amp;inputs, std::vector&lt; <a class="el" href="../../da/d96/structo2_1_1framework_1_1InputSpec.html">InputSpec</a> &gt; filterSpecs={})</td></tr>
<tr class="separator:aab9f0ab28291e1247f1285d441e0680d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1a65ac5050830b7d1dff3233f8eff2"><td class="memTemplParams" colspan="2">template&lt;typename Predicate , typename Inserter &gt; </td></tr>
<tr class="memitem:a8c1a65ac5050830b7d1dff3233f8eff2"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a8c1a65ac5050830b7d1dff3233f8eff2">operator()</a> (Predicate &amp;&amp;pred, Inserter &amp;&amp;inserter)</td></tr>
<tr class="separator:a8c1a65ac5050830b7d1dff3233f8eff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e24816d4951531d199ed61727bfe9ee"><td class="memTemplParams" colspan="2">template&lt;typename Predicate , typename Inserter &gt; </td></tr>
<tr class="memitem:a5e24816d4951531d199ed61727bfe9ee"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a5e24816d4951531d199ed61727bfe9ee">binary</a> (Predicate pred, Inserter inserter)</td></tr>
<tr class="separator:a5e24816d4951531d199ed61727bfe9ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade164eaad0d86394290d52f401546a30"><td class="memTemplParams" colspan="2">template&lt;typename Predicate , typename Inserter &gt; </td></tr>
<tr class="memitem:ade164eaad0d86394290d52f401546a30"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#ade164eaad0d86394290d52f401546a30">forward</a> (Predicate <a class="el" href="../../dd/d8d/namespaceo2_1_1framework.html#a3a2fc3abf9432c8fb87a3871962852de">check</a>, Inserter inserter)</td></tr>
<tr class="separator:ade164eaad0d86394290d52f401546a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This utility handles transparently the DPL inputs and triggers a customizable action on sequences of consecutive raw pages following similar RDH features, e.g. the same FEE ID. </p>
<p><a class="el" href="../../d2/d88/classA.html">A</a> DPL processor will receive raw pages accumulated on three levels: 1) the DPL processor has one or more input route(s) 2) multiple parts per input route (split payloads or multiple input specs matching the same route spec 3) variable number of raw pages in one payload</p>
<p>The <a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html" title="This utility handles transparently the DPL inputs and triggers a customizable action on sequences of ...">DPLRawPageSequencer</a> loops transparently over all inputs matching the optional filter, and partitions input buffers into sequences of raw pages matching the provided predicate by binary search.</p>
<p>Note: binary search requires that all raw pages must have a fixed length, only the last page can be shorter.</p>
<p>Usage: auto isSameRdh = [](const char* left, const char* right) -&gt; bool { // implement the condition here return left == right; }; std::vector&lt;std::pair&lt;const char*, size_t&gt;&gt; pages; auto insertPages = [&amp;pages](const char* ptr, size_t n) -&gt; void { // as an example, the sequences are simply stored in a vector pages.emplace_back(ptr, n); }; DPLRawPageSequencer(inputs)(isSameRdh, insertPages);</p>
<p>TODO:</p><ul>
<li>support configurable page length </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00062">62</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a10ce7ee496f723688845d525de1f9761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ce7ee496f723688845d525de1f9761">&#9670;&nbsp;</a></span>buffer_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a10ce7ee496f723688845d525de1f9761">o2::framework::DPLRawPageSequencer::buffer_type</a> =  typename <a class="el" href="../../d6/d55/classo2_1_1framework_1_1RawParser.html#adbec0646c68e21b4dc1533791863f9f6">rawparser_type::buffer_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00066">66</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<a id="a1c3566bd569a9e321983e9a03121a876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3566bd569a9e321983e9a03121a876">&#9670;&nbsp;</a></span>rawparser_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html#a1c3566bd569a9e321983e9a03121a876">o2::framework::DPLRawPageSequencer::rawparser_type</a> =  <a class="el" href="../../d6/d55/classo2_1_1framework_1_1RawParser.html">RawParser</a>&lt;8192&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00065">65</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5fd17f9035aa5cf4b97ac67cba6b4ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fd17f9035aa5cf4b97ac67cba6b4ebc">&#9670;&nbsp;</a></span>DPLRawPageSequencer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::framework::DPLRawPageSequencer::DPLRawPageSequencer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aab9f0ab28291e1247f1285d441e0680d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9f0ab28291e1247f1285d441e0680d">&#9670;&nbsp;</a></span>DPLRawPageSequencer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::framework::DPLRawPageSequencer::DPLRawPageSequencer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d24/classo2_1_1framework_1_1InputRecord.html">InputRecord</a> &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../da/d96/structo2_1_1framework_1_1InputSpec.html">InputSpec</a> &gt;&#160;</td>
          <td class="paramname"><em>filterSpecs</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00069">69</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e24816d4951531d199ed61727bfe9ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e24816d4951531d199ed61727bfe9ee">&#9670;&nbsp;</a></span>binary()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Predicate , typename Inserter &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::framework::DPLRawPageSequencer::binary </td>
          <td>(</td>
          <td class="paramtype">Predicate&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inserter&#160;</td>
          <td class="paramname"><em>inserter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00078">78</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<a id="ade164eaad0d86394290d52f401546a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade164eaad0d86394290d52f401546a30">&#9670;&nbsp;</a></span>forward()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Predicate , typename Inserter &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::framework::DPLRawPageSequencer::forward </td>
          <td>(</td>
          <td class="paramtype">Predicate&#160;</td>
          <td class="paramname"><em>check</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inserter&#160;</td>
          <td class="paramname"><em>inserter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00134">134</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<a id="a8c1a65ac5050830b7d1dff3233f8eff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1a65ac5050830b7d1dff3233f8eff2">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Predicate , typename Inserter &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::framework::DPLRawPageSequencer::operator() </td>
          <td>(</td>
          <td class="paramtype">Predicate &amp;&amp;&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inserter &amp;&amp;&#160;</td>
          <td class="paramname"><em>inserter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html#l00072">72</a> of file <a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/AliceO2/AliceO2/Framework/Utils/include/DPLUtils/<a class="el" href="../../d2/d6b/DPLRawPageSequencer_8h_source.html">DPLRawPageSequencer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../dd/d8d/namespaceo2_1_1framework.html">framework</a></li><li class="navelem"><a class="el" href="../../dd/daa/classo2_1_1framework_1_1DPLRawPageSequencer.html">DPLRawPageSequencer</a></li>
    <li class="footer">Generated on Mon Feb 14 2022 05:41:13 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
