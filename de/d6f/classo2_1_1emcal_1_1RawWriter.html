<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: o2::emcal::RawWriter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d6f/classo2_1_1emcal_1_1RawWriter.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d7/dad/classo2_1_1emcal_1_1RawWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">o2::emcal::RawWriter Class Reference<div class="ingroups"><a class="el" href="../../db/d07/group__DetectorEMCAL.html">EMCAL</a> &raquo; <a class="el" href="../../d4/d72/group__EMCALsimulation.html">EMCAL simulation</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Raw data creator for EMCAL raw data based on EMCAL digits.  
 <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4466beeb01ec17272638938232171367"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367">FileFor_t</a> { <a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367ad764ed03e22d1cfb8898075c52f50061">FileFor_t::kFullDet</a>, 
<a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367aa16b7b63c024004cf3a4cf5daa37137b">FileFor_t::kSubDet</a>, 
<a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367ad5c2e222ebef6e8d5d3f9e074d4d1d84">FileFor_t::kCRORC</a>, 
<a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367a184a44a1696244085d406a0647aaa2b5">FileFor_t::kLink</a>
 }</td></tr>
<tr class="memdesc:a4466beeb01ec17272638938232171367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the granularity of the raw files.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367">More...</a><br /></td></tr>
<tr class="separator:a4466beeb01ec17272638938232171367"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada4db34787f84ec4bd50cdb95ed91e1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ada4db34787f84ec4bd50cdb95ed91e1e">RawWriter</a> ()=default</td></tr>
<tr class="memdesc:ada4db34787f84ec4bd50cdb95ed91e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy constructor.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ada4db34787f84ec4bd50cdb95ed91e1e">More...</a><br /></td></tr>
<tr class="separator:ada4db34787f84ec4bd50cdb95ed91e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab74e80bad4a96c9caec6784b2aace2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a6ab74e80bad4a96c9caec6784b2aace2">RawWriter</a> (const char *outputdir)</td></tr>
<tr class="memdesc:a6ab74e80bad4a96c9caec6784b2aace2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, defining output location.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a6ab74e80bad4a96c9caec6784b2aace2">More...</a><br /></td></tr>
<tr class="separator:a6ab74e80bad4a96c9caec6784b2aace2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0817b1e27e0a27daefd231e8a9bdef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a1e0817b1e27e0a27daefd231e8a9bdef">~RawWriter</a> ()=default</td></tr>
<tr class="memdesc:a1e0817b1e27e0a27daefd231e8a9bdef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a1e0817b1e27e0a27daefd231e8a9bdef">More...</a><br /></td></tr>
<tr class="separator:a1e0817b1e27e0a27daefd231e8a9bdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc33e0489aa4f0fb127e8b250546d24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d0d/classo2_1_1raw_1_1RawFileWriter.html">o2::raw::RawFileWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a9dc33e0489aa4f0fb127e8b250546d24">getWriter</a> () const</td></tr>
<tr class="memdesc:a9dc33e0489aa4f0fb127e8b250546d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get access to underlying RawFileWriter.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a9dc33e0489aa4f0fb127e8b250546d24">More...</a><br /></td></tr>
<tr class="separator:a9dc33e0489aa4f0fb127e8b250546d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86fc9ab6794a965a9c16621f92b40120"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a86fc9ab6794a965a9c16621f92b40120">setOutputLocation</a> (const char *outputdir)</td></tr>
<tr class="separator:a86fc9ab6794a965a9c16621f92b40120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace62aab0c0474c9683e9da707cf9c810"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ace62aab0c0474c9683e9da707cf9c810">setDigits</a> (gsl::span&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> &gt; digits)</td></tr>
<tr class="separator:ace62aab0c0474c9683e9da707cf9c810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a68e214f0e96ba64621bc883f3eb376"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a9a68e214f0e96ba64621bc883f3eb376">setFileFor</a> (<a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367">FileFor_t</a> filefor)</td></tr>
<tr class="memdesc:a9a68e214f0e96ba64621bc883f3eb376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the granularity of the output file.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a9a68e214f0e96ba64621bc883f3eb376">More...</a><br /></td></tr>
<tr class="separator:a9a68e214f0e96ba64621bc883f3eb376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27432bc5fdc06275c051ca46d100b57a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a27432bc5fdc06275c051ca46d100b57a">setNumberOfADCSamples</a> (int <a class="el" href="../../d4/d71/MUON_2MCH_2src_2testDigit_8cxx.html#aff7ebfec94789dc0764517bc3e6fcc37">nsamples</a>)</td></tr>
<tr class="memdesc:a27432bc5fdc06275c051ca46d100b57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of ADC samples in the readout window.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a27432bc5fdc06275c051ca46d100b57a">More...</a><br /></td></tr>
<tr class="separator:a27432bc5fdc06275c051ca46d100b57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac624d40602dc6bb5274559f2d4e7dfce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ac624d40602dc6bb5274559f2d4e7dfce">setMinADCSamplesBunch</a> (int <a class="el" href="../../d4/d71/MUON_2MCH_2src_2testDigit_8cxx.html#aff7ebfec94789dc0764517bc3e6fcc37">nsamples</a>)</td></tr>
<tr class="memdesc:ac624d40602dc6bb5274559f2d4e7dfce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set min. ADC samples expected in a calo bunch.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ac624d40602dc6bb5274559f2d4e7dfce">More...</a><br /></td></tr>
<tr class="separator:ac624d40602dc6bb5274559f2d4e7dfce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921fae8a878af11950c008185e97f127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a921fae8a878af11950c008185e97f127">setPedestal</a> (int pedestal)</td></tr>
<tr class="memdesc:a921fae8a878af11950c008185e97f127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pedestal threshold used to accept ADC values when creating the bunches.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a921fae8a878af11950c008185e97f127">More...</a><br /></td></tr>
<tr class="separator:a921fae8a878af11950c008185e97f127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69eac0a7b40b5b26d9e3b9c79bf4d446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a69eac0a7b40b5b26d9e3b9c79bf4d446">setGeometry</a> (<a class="el" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">o2::emcal::Geometry</a> *geo)</td></tr>
<tr class="memdesc:a69eac0a7b40b5b26d9e3b9c79bf4d446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the geometry parameters.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a69eac0a7b40b5b26d9e3b9c79bf4d446">More...</a><br /></td></tr>
<tr class="separator:a69eac0a7b40b5b26d9e3b9c79bf4d446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c3ac60d36395f0800b180aeced87f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a56c3ac60d36395f0800b180aeced87f6">init</a> ()</td></tr>
<tr class="separator:a56c3ac60d36395f0800b180aeced87f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07082b327f68fbfb645fdad7cf601e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ad07082b327f68fbfb645fdad7cf601e1">digitsToRaw</a> (gsl::span&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> &gt; digits, gsl::span&lt; <a class="el" href="../../d2/dbb/classo2_1_1emcal_1_1TriggerRecord.html">o2::emcal::TriggerRecord</a> &gt; triggers)</td></tr>
<tr class="memdesc:ad07082b327f68fbfb645fdad7cf601e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converting digits from a full timeframe to raw pages.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ad07082b327f68fbfb645fdad7cf601e1">More...</a><br /></td></tr>
<tr class="separator:ad07082b327f68fbfb645fdad7cf601e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa8611ec405964170479972e0fef27b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a1fa8611ec405964170479972e0fef27b">processTrigger</a> (const <a class="el" href="../../d2/dbb/classo2_1_1emcal_1_1TriggerRecord.html">o2::emcal::TriggerRecord</a> &amp;trg)</td></tr>
<tr class="memdesc:a1fa8611ec405964170479972e0fef27b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processing digits to raw conversion for the digits from the current event.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a1fa8611ec405964170479972e0fef27b">More...</a><br /></td></tr>
<tr class="separator:a1fa8611ec405964170479972e0fef27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf52a2cf24fcdfaf5d1580822b9b849"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#accf52a2cf24fcdfaf5d1580822b9b849">carryOverMethod</a> (const <a class="el" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">header::RDHAny</a> *rdh, const gsl::span&lt; char &gt; <a class="el" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>, const char *<a class="el" href="../../d1/d29/TableTreeHelpers_8cxx.html#ab8128471e1bbf39a084b78a162c99204">ptr</a>, int maxSize, int splitID, std::vector&lt; char &gt; &amp;trailer, std::vector&lt; char &gt; &amp;header) const</td></tr>
<tr class="separator:accf52a2cf24fcdfaf5d1580822b9b849"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa9e76cc19ab672d7cac8df344c3729e8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d6/d70/structo2_1_1emcal_1_1AltroBunch.html">AltroBunch</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#aa9e76cc19ab672d7cac8df344c3729e8">findBunches</a> (const std::vector&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> * &gt; &amp;channelDigits)</td></tr>
<tr class="memdesc:aa9e76cc19ab672d7cac8df344c3729e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse digits vector in channel and create ALTRO bunches.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#aa9e76cc19ab672d7cac8df344c3729e8">More...</a><br /></td></tr>
<tr class="separator:aa9e76cc19ab672d7cac8df344c3729e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1856d2cc51a9b7d2c991278239c6d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d88/uniono2_1_1emcal_1_1ChannelHeader.html">ChannelHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a0e1856d2cc51a9b7d2c991278239c6d2">createChannelHeader</a> (int hardwareAddress, int payloadSize, <a class="el" href="../../d9/db9/classbool.html">bool</a> isBadChannel)</td></tr>
<tr class="memdesc:a0e1856d2cc51a9b7d2c991278239c6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create channel header.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a0e1856d2cc51a9b7d2c991278239c6d2">More...</a><br /></td></tr>
<tr class="separator:a0e1856d2cc51a9b7d2c991278239c6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043c13ff320a5b100168919afdeb0797"><td class="memItemLeft" align="right" valign="top">std::vector&lt; char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a043c13ff320a5b100168919afdeb0797">createRCUTrailer</a> (int payloadsize, double timesample, uint64_t triggertime, int feeID)</td></tr>
<tr class="memdesc:a043c13ff320a5b100168919afdeb0797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creating RCU trailer.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a043c13ff320a5b100168919afdeb0797">More...</a><br /></td></tr>
<tr class="separator:a043c13ff320a5b100168919afdeb0797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f745d7182f13b8c09a4426df092c36"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ae5f745d7182f13b8c09a4426df092c36">encodeBunchData</a> (const std::vector&lt; int &gt; &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>)</td></tr>
<tr class="memdesc:ae5f745d7182f13b8c09a4426df092c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoding words of the ALTRO bunch into 32-bit words.  <a href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#ae5f745d7182f13b8c09a4426df092c36">More...</a><br /></td></tr>
<tr class="separator:ae5f745d7182f13b8c09a4426df092c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Raw data creator for EMCAL raw data based on EMCAL digits. </p>
<dl class="section author"><dt>Author</dt><dd>Markus Fasel <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ku'+'s.f'+'as'+'el@'+'ce'+'rn.'+'ch'; return false;">marku<span style="display: none;">.nosp@m.</span>s.fa<span style="display: none;">.nosp@m.</span>sel@c<span style="display: none;">.nosp@m.</span>ern.<span style="display: none;">.nosp@m.</span>ch</a>, Oak Ridge National Laboratory </dd>
<dd>
Hadi Hassan, Oak Ridge National Laboratory </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Jan 24, 2020 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00072">72</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a4466beeb01ec17272638938232171367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4466beeb01ec17272638938232171367">&#9670;&nbsp;</a></span>FileFor_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367">o2::emcal::RawWriter::FileFor_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition of the granularity of the raw files. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4466beeb01ec17272638938232171367ad764ed03e22d1cfb8898075c52f50061"></a>kFullDet&#160;</td><td class="fielddoc"><p>Full detector (EMCAL + DCAL) </p>
</td></tr>
<tr><td class="fieldname"><a id="a4466beeb01ec17272638938232171367aa16b7b63c024004cf3a4cf5daa37137b"></a>kSubDet&#160;</td><td class="fielddoc"><p>Subdetector (EMCAL/DCAL separate) </p>
</td></tr>
<tr><td class="fieldname"><a id="a4466beeb01ec17272638938232171367ad5c2e222ebef6e8d5d3f9e074d4d1d84"></a>kCRORC&#160;</td><td class="fielddoc"><p>C-RORC card. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4466beeb01ec17272638938232171367a184a44a1696244085d406a0647aaa2b5"></a>kLink&#160;</td><td class="fielddoc"><p>Per link. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00077">77</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ada4db34787f84ec4bd50cdb95ed91e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4db34787f84ec4bd50cdb95ed91e1e">&#9670;&nbsp;</a></span>RawWriter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::emcal::RawWriter::RawWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dummy constructor. </p>

</div>
</div>
<a id="a6ab74e80bad4a96c9caec6784b2aace2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab74e80bad4a96c9caec6784b2aace2">&#9670;&nbsp;</a></span>RawWriter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::emcal::RawWriter::RawWriter </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outputdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor, defining output location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputdir</td><td>Output directiory</td></tr>
  </table>
  </dd>
</dl>
<p>Initializing the output directory. The output files can be found in the output directory with the granularity defined via setFileFor </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00093">93</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a1e0817b1e27e0a27daefd231e8a9bdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e0817b1e27e0a27daefd231e8a9bdef">&#9670;&nbsp;</a></span>~RawWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::emcal::RawWriter::~RawWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="accf52a2cf24fcdfaf5d1580822b9b849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf52a2cf24fcdfaf5d1580822b9b849">&#9670;&nbsp;</a></span>carryOverMethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RawWriter::carryOverMethod </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">header::RDHAny</a> *&#160;</td>
          <td class="paramname"><em>rdh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gsl::span&lt; char &gt;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>splitID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>trailer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00335">335</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="a0e1856d2cc51a9b7d2c991278239c6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1856d2cc51a9b7d2c991278239c6d2">&#9670;&nbsp;</a></span>createChannelHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d88/uniono2_1_1emcal_1_1ChannelHeader.html">ChannelHeader</a> RawWriter::createChannelHeader </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hardwareAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payloadSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>isBadChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create channel header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hardwareAddress</td><td>Hardware address </td></tr>
    <tr><td class="paramname">payloadSize</td><td>Size of the payload of the channel in 10-bit ALTRO words </td></tr>
    <tr><td class="paramname">isBadChannel</td><td>If true the channel is a bad channel at hardware level </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00292">292</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="a043c13ff320a5b100168919afdeb0797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043c13ff320a5b100168919afdeb0797">&#9670;&nbsp;</a></span>createRCUTrailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; char &gt; RawWriter::createRCUTrailer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payloadsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timesample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>triggertime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>feeID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creating RCU trailer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payloadsize</td><td>Size of the payload as 32bit word </td></tr>
    <tr><td class="paramname">timesampe</td><td>Length of the time sample (for L1 phase calculation) </td></tr>
    <tr><td class="paramname">triggertime</td><td>Time of the trigger (for L1 phase calculation) </td></tr>
    <tr><td class="paramname">feeID</td><td>Link ID</td></tr>
  </table>
  </dd>
</dl>
<p>Creating RCU trailer. Also setting the values of the ALTRO Config registers based on the settings in the raw writer. The RCU trailer is then encoded and converted to 8-bit words. </p>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00302">302</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="ad07082b327f68fbfb645fdad7cf601e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07082b327f68fbfb645fdad7cf601e1">&#9670;&nbsp;</a></span>digitsToRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> RawWriter::digitsToRaw </td>
          <td>(</td>
          <td class="paramtype">gsl::span&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> &gt;&#160;</td>
          <td class="paramname"><em>digits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gsl::span&lt; <a class="el" href="../../d2/dbb/classo2_1_1emcal_1_1TriggerRecord.html">o2::emcal::TriggerRecord</a> &gt;&#160;</td>
          <td class="paramname"><em>triggers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converting digits from a full timeframe to raw pages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">digits</td><td>Vector of digits belonging to the same timeframe </td></tr>
    <tr><td class="paramname">triggers</td><td>trigger records with ranges in digits container of data for the various events in the timeframe</td></tr>
  </table>
  </dd>
</dl>
<p>Processing all events from within a timeframe. See processTrigger for more information about the digit to raw converion of a single event. </p>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00074">74</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="ae5f745d7182f13b8c09a4426df092c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5f745d7182f13b8c09a4426df092c36">&#9670;&nbsp;</a></span>encodeBunchData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; RawWriter::encodeBunchData </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encoding words of the ALTRO bunch into 32-bit words. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>ALTRO bunch information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Encoded ALTRO words</dd></dl>
<p>Converting ALTRO bunch into ALTRO words. For the ALTRO bunch the following structure is expected:</p><ul>
<li>bunch size including bunch header size (2)</li>
<li>start time</li>
<li>ADC samples The input data is converted to 10 but ALTRO words and put on the stream. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00257">257</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="aa9e76cc19ab672d7cac8df344c3729e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e76cc19ab672d7cac8df344c3729e8">&#9670;&nbsp;</a></span>findBunches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d6/d70/structo2_1_1emcal_1_1AltroBunch.html">AltroBunch</a> &gt; RawWriter::findBunches </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>channelDigits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse digits vector in channel and create ALTRO bunches. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channelDigits</td><td>Vector with digits in the channel for the current event</td></tr>
  </table>
  </dd>
</dl>
<p>Channels are parsed in a time-reversed order. Bunches are selected for ranges of digits where the ADC value is consecutively above the pedestal. Only bunches having a min. amount of ADC samples are selected. </p>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00202">202</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="a9dc33e0489aa4f0fb127e8b250546d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc33e0489aa4f0fb127e8b250546d24">&#9670;&nbsp;</a></span>getWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d0d/classo2_1_1raw_1_1RawFileWriter.html">o2::raw::RawFileWriter</a>&amp; o2::emcal::RawWriter::getWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get access to underlying RawFileWriter. </p>
<dl class="section return"><dt>Returns</dt><dd>RawFileWriter </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00100">100</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a56c3ac60d36395f0800b180aeced87f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c3ac60d36395f0800b180aeced87f6">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> RawWriter::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00024">24</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="a1fa8611ec405964170479972e0fef27b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa8611ec405964170479972e0fef27b">&#9670;&nbsp;</a></span>processTrigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> RawWriter::processTrigger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/dbb/classo2_1_1emcal_1_1TriggerRecord.html">o2::emcal::TriggerRecord</a> &amp;&#160;</td>
          <td class="paramname"><em>trg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processing digits to raw conversion for the digits from the current event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trg</td><td>Trigger record providing collision information and data range for the current event</td></tr>
  </table>
  </dd>
</dl>
<p>Digits are first sorted according to SRUs and within their channels and time samples. For each SRU and channel within the SRU calo bunches are created. In case at least one valid calo bunch is found channels are created, and they data words are organized in a raw stream, which is closed by the RCU trailer of the given stream. The content of the stream is then passed to the RawFileWriter for page splitting and output streaming. </p>
<p>bad channel status eventually to be added later</p>

<p class="definition">Definition at line <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html#l00082">82</a> of file <a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a>.</p>

</div>
</div>
<a id="ace62aab0c0474c9683e9da707cf9c810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace62aab0c0474c9683e9da707cf9c810">&#9670;&nbsp;</a></span>setDigits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setDigits </td>
          <td>(</td>
          <td class="paramtype">gsl::span&lt; <a class="el" href="../../df/d39/classo2_1_1emcal_1_1Digit.html">o2::emcal::Digit</a> &gt;&#160;</td>
          <td class="paramname"><em>digits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00103">103</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a9a68e214f0e96ba64621bc883f3eb376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a68e214f0e96ba64621bc883f3eb376">&#9670;&nbsp;</a></span>setFileFor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setFileFor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html#a4466beeb01ec17272638938232171367">FileFor_t</a>&#160;</td>
          <td class="paramname"><em>filefor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the granularity of the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filefor</td><td>Output granularity</td></tr>
  </table>
  </dd>
</dl>
<p>Output files can be created for</p><ul>
<li>Whole EMCAL</li>
<li>Subdetector (EMCAL or DCAL)</li>
<li>Link </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00112">112</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a69eac0a7b40b5b26d9e3b9c79bf4d446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69eac0a7b40b5b26d9e3b9c79bf4d446">&#9670;&nbsp;</a></span>setGeometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setGeometry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">o2::emcal::Geometry</a> *&#160;</td>
          <td class="paramname"><em>geo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the geometry parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">geo</td><td>EMCAL geometry </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00128">128</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="ac624d40602dc6bb5274559f2d4e7dfce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac624d40602dc6bb5274559f2d4e7dfce">&#9670;&nbsp;</a></span>setMinADCSamplesBunch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setMinADCSamplesBunch </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsamples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set min. ADC samples expected in a calo bunch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nsamples</td><td>Minimum number of ADC samples </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00120">120</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a27432bc5fdc06275c051ca46d100b57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27432bc5fdc06275c051ca46d100b57a">&#9670;&nbsp;</a></span>setNumberOfADCSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setNumberOfADCSamples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsamples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the number of ADC samples in the readout window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nsapmles</td><td>Number of time samples </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00116">116</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a86fc9ab6794a965a9c16621f92b40120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86fc9ab6794a965a9c16621f92b40120">&#9670;&nbsp;</a></span>setOutputLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setOutputLocation </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outputdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00102">102</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<a id="a921fae8a878af11950c008185e97f127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921fae8a878af11950c008185e97f127">&#9670;&nbsp;</a></span>setPedestal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::RawWriter::setPedestal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pedestal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set pedestal threshold used to accept ADC values when creating the bunches. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pedestal</td><td>Pedestal value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html#l00124">124</a> of file <a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/AliceO2/AliceO2/Detectors/EMCAL/simulation/include/EMCALSimulation/<a class="el" href="../../d7/dbe/EMCAL_2simulation_2include_2EMCALSimulation_2RawWriter_8h_source.html">RawWriter.h</a></li>
<li>/home/runner/work/AliceO2/AliceO2/Detectors/EMCAL/simulation/src/<a class="el" href="../../da/dcc/EMCAL_2simulation_2src_2RawWriter_8cxx_source.html">RawWriter.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../db/dc1/namespaceo2_1_1emcal.html">emcal</a></li><li class="navelem"><a class="el" href="../../de/d6f/classo2_1_1emcal_1_1RawWriter.html">RawWriter</a></li>
    <li class="footer">Generated on Mon Feb 14 2022 05:41:12 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
